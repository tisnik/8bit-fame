0 REM ---------------------
1 REM WeakPoint V.1.0
2 REM Tisnik 2013, 2022
3 REM ---------------------
4 PRINT ""
5 PRINT "WeakPoint V.1.0"
6 PRINT "Tisnik 2013, 2022"
7 PRINT "*********************"
8 PRINT ""
9 GOSUB 10000
10 PRINT "SLIDE: ";SLIDE
11 PRINT " PREVIOUS SLIDE"
12 PRINT " NEXT SLIDE"
20 GOSUB KEYCODE
30 KEY=PEEK(754)
40 SLIDE=SLIDE-(KEY=LEFTKEY)
41 SLIDE=SLIDE+(KEY=RIGHTKEY)
50 IF SLIDE>0 THEN GOSUB SLIDE*100
60 GOTO MAINLOOP
100 REM slide # 0
101 GRAPHICS 2
102 ? #6;""
103 ? #6;"нес"
104 ? #6;""
105 ? #6;"* Nintendo"
106 ? #6;"* Entertainment"
107 ? #6;"* System"
108 ? #6;""
109 RETURN
200 REM slide # 1
201 GRAPHICS 2
202 ? #6;""
203 ? #6;"гаме═цонсоле"
204 ? #6;""
205 ? #6;"* 62 millions sold"
206 ? #6;"* about 50 clones"
207 ? #6;"* various plugins"
208 ? #6;"- midi"
209 ? #6;"- floppy disk"
210 ? #6;"- modem"
211 ? #6;""
212 RETURN
300 REM slide # 2
301 GRAPHICS 2
302 ? #6;""
303 ? #6;"ожержиев"
304 ? #6;""
305 ? #6;"* cpu"
306 ? #6;"* memory"
307 ? #6;"* graphics"
308 ? #6;"* sound"
309 ? #6;"* controllers"
310 ? #6;"* copy protection"
311 ? #6;""
312 RETURN
400 REM slide # 3
401 GRAPHICS 2
402 ? #6;""
403 ? #6;"рицох═╡а╟Ё╞╡а╟╥"
404 ? #6;""
405 ? #6;"* ricoh 2a03 cpu"
406 ? #6;""
407 ? #6;"* 2a03 - ntsc"
408 ? #6;"* 2a07 - pal"
409 ? #6;""
410 ? #6;"* 1,66 MHz PAL"
411 ? #6;"* 1,79 MHz NTSC"
412 ? #6;""
413 RETURN
500 REM slide # 4
501 GRAPHICS 2
502 ? #6;""
503 ? #6;"рицох═╡а╟Ё╞╡а╟╥"
504 ? #6;""
505 ? #6;"* based on mos 6502"
506 ? #6;""
507 ? #6;"* 2a03 vs mos 6502"
508 ? #6;"- - bcd mode"
509 ? #6;"- + timer"
510 ? #6;"- + dma"
511 ? #6;"- + sound system"
512 ? #6;""
513 RETURN
600 REM slide # 5
601 GRAPHICS 2
602 ? #6;""
603 ? #6;"меморы"
604 ? #6;""
605 ? #6;"* two memory chips"
606 ? #6;"- program+data"
607 ? #6;"- graphics data"
608 ? #6;"* no built-in ROM"
609 ? #6;"* EPROM on cartridge"
610 ? #6;""
611 RETURN
700 REM slide # 6
701 GRAPHICS 2
702 ? #6;""
703 ? #6;"грапхицс"
704 ? #6;""
705 ? #6;"* generated by PPU"
706 ? #6;"* 256X240 pixels"
707 ? #6;"* RP2C02/RP2C07"
708 ? #6;"* a bit complicated"
709 ? #6;"- multiple tables"
710 ? #6;""
711 RETURN
800 REM slide # 7
801 GRAPHICS 2
802 ? #6;""
803 ? #6;"грапхицс"
804 ? #6;""
805 ? #6;"* 256B sprite RAM"
806 ? #6;"* 2KB backgr. RAM"
807 ? #6;"* ROM on cartridge"
808 ? #6;"* 64 color system pal."
809 ? #6;""
810 RETURN
900 REM slide # 8
901 GRAPHICS 2
902 ? #6;""
903 ? #6;"грапхицс"
904 ? #6;""
905 ? #6;"* design strategy"
906 ? #6;"- as few CPU cycles"
907 ? #6;"- as possible"
908 ? #6;""
909 RETURN
1000 REM slide # 9
1001 GRAPHICS 2
1002 ? #6;""
1003 ? #6;"бацкгроунд═ё╠"
1004 ? #6;""
1005 ? #6;"* 256x240 pixels"
1006 ? #6;"- not bitmap"
1007 ? #6;"- tiles 8x8"
1008 ? #6;"- groups 4x4 t"
1009 ? #6;"- 4 palettes"
1010 ? #6;"- 4 colors each"
1011 ? #6;"- 3 unique col."
1012 ? #6;"- 1 shared"
1013 ? #6;""
1014 RETURN
1100 REM slide # 10
1101 GRAPHICS 2
1102 ? #6;""
1103 ? #6;"бацкгроунд═ё╡"
1104 ? #6;""
1105 ? #6;"* PATTERN TABLE"
1106 ? #6;"- in ROM"
1107 ? #6;"- tiles 8x8"
1108 ? #6;"- 2 bpp"
1109 ? #6;""
1110 RETURN
1200 REM slide # 11
1201 GRAPHICS 2
1202 ? #6;""
1203 ? #6;"бацкгроунд═ё╡б"
1204 ? #6;""
1205 ? #6;"* PATTERN TABLE size"
1206 ? #6;"16 bytes per tile"
1207 ? #6;"* 256 tiles"
1208 ? #6;"= 4096 bytes"
1209 ? #6;""
1210 RETURN
1300 REM slide # 12
1301 GRAPHICS 2
1302 ? #6;""
1303 ? #6;"бацкгроунд═ёЁ"
1304 ? #6;""
1305 ? #6;"* ATTRIBUTE TABLE"
1306 ? #6;"- 64 (60) bytes"
1307 ? #6;"- upper 2 bits"
1308 ? #6;"- for 4x4 tiles"
1309 ? #6;"- 32x32 pixels"
1310 ? #6;""
1311 RETURN
1400 REM slide # 13
1401 GRAPHICS 2
1402 ? #6;""
1403 ? #6;"бацкгроунд═ёЁб"
1404 ? #6;""
1405 ? #6;"* why?"
1406 ? #6;"- tiles 2bpp"
1407 ? #6;"-> palette #"
1408 ? #6;"- attrib. 2bpp"
1409 ? #6;"-> color from"
1410 ? #6;"palette"
1411 RETURN
1500 REM slide # 14
1501 GRAPHICS 2
1502 ? #6;""
1503 ? #6;"бацкгроунд═ё╢"
1504 ? #6;""
1505 ? #6;"* NAME TABLE"
1506 ? #6;"- in RAM"
1507 ? #6;"- grid 32x30"
1508 ? #6;"- offsets"
1509 ? #6;"- 960 bytes"
1510 ? #6;"* can be manipulated"
1511 ? #6;"quickly"
1512 ? #6;""
1513 RETURN
1600 REM slide # 15
1601 GRAPHICS 2
1602 ? #6;""
1603 ? #6;"бацкгроунд═ё╣"
1604 ? #6;""
1605 ? #6;"* PPU rendering:"
1606 ? #6;"- read tile #"
1607 ? #6;"from NAME TABLE"
1608 ? #6;"- read palette #"
1609 ? #6;"from ATTRIB.T."
1610 ? #6;"- read pixel colors"
1611 ? #6;"from PATTERN TABLE"
1612 ? #6;""
1613 RETURN
1700 REM slide # 16
1701 GRAPHICS 2
1702 ? #6;""
1703 ? #6;"бацкгроунд═ё╣б"
1704 ? #6;"* without CPU intervention"
1705 ? #6;""
1706 RETURN
1800 REM slide # 17
1801 GRAPHICS 2
1802 ? #6;""
1803 ? #6;"спритес═ё╠"
1804 ? #6;""
1805 ? #6;"* PATTERN TABLE"
1806 ? #6;"- in ROM"
1807 ? #6;"- tiles 8x8"
1808 ? #6;"- 2 bpp"
1809 ? #6;"* SPRITE RAM"
1810 ? #6;"- 256 bytes"
1811 ? #6;""
1812 RETURN
1900 REM slide # 18
1901 GRAPHICS 2
1902 ? #6;""
1903 ? #6;"спритес═ёЁ"
1904 ? #6;""
1905 ? #6;"* SPRITE RAM"
1906 ? #6;"* 64 sprites"
1907 ? #6;"* 4 bytes/sprite"
1908 ? #6;"- tile #"
1909 ? #6;"- x-position"
1910 ? #6;"- y-position"
1911 ? #6;"- attributes"
1912 ? #6;""
1913 RETURN
2000 REM slide # 19
2001 GRAPHICS 2
2002 ? #6;""
2003 ? #6;"спритес═ё╢"
2004 ? #6;""
2005 ? #6;"* attribues"
2006 ? #6;"- palette 4-7"
2007 ? #6;"- priority"
2008 ? #6;"- flip hor."
2009 ? #6;"- flip ver."
2010 ? #6;""
2011 RETURN
2100 REM slide # 20
2101 GRAPHICS 2
2102 ? #6;""
2103 ? #6;"тотал═цолорс"
2104 ? #6;""
2105 ? #6;"* background"
2106 ? #6;"* sprites"
2107 ? #6;"* sum"
2108 ? #6;""
2109 RETURN
2200 REM slide # 21
2201 GRAPHICS 2
2202 ? #6;""
2203 ? #6;"тотал═цолорс"
2204 ? #6;""
2205 ? #6;"* background"
2206 ? #6;"- main bg.color"
2207 ? #6;"- 4 palettes"
2208 ? #6;"- each 3 colors"
2209 ? #6;"- 13 in overall"
2210 ? #6;""
2211 RETURN
2300 REM slide # 22
2301 GRAPHICS 2
2302 ? #6;""
2303 ? #6;"тотал═цолорс"
2304 ? #6;""
2305 ? #6;"* sprites"
2306 ? #6;"- 4 palettes"
2307 ? #6;"- each 3 colors"
2308 ? #6;"- 12 in overall"
2309 ? #6;""
2310 RETURN
2400 REM slide # 23
2401 GRAPHICS 2
2402 ? #6;""
2403 ? #6;"тотал═цолорс"
2404 ? #6;"* summary"
2405 ? #6;"- 25 colors on"
2406 ? #6;"screen w/o any"
2407 ? #6;"tricks"
2408 ? #6;""
2409 RETURN
2500 REM slide # 24
2501 GRAPHICS 2
2502 ? #6;""
2503 ? #6;"соунд"
2504 ? #6;""
2505 ? #6;"* generated by cpu"
2506 ? #6;"* 2A03/2A07"
2507 ? #6;""
2508 RETURN
2600 REM slide # 25
2601 GRAPHICS 2
2602 ? #6;""
2603 ? #6;"╡а╟Ё═соунд═сыстем"
2604 ? #6;""
2605 ? #6;"* 5 channels"
2606 ? #6;"* 2 square waves"
2607 ? #6;"* 1 triangle wave"
2608 ? #6;"* 1 noise generator"
2609 ? #6;"* 1 d/a converter"
2610 ? #6;""
2611 ? #6;"* 22 control regs"
2612 ? #6;""
2613 RETURN
2700 REM slide # 26
2701 GRAPHICS 2
2702 ? #6;""
2703 ? #6;"╡а╟Ё═сяуаре═важес"
2704 ? #6;""
2705 ? #6;"* 54.6 hz-12,4 khz"
2706 ? #6;"* 4 bit amplitude"
2707 ? #6;"* variable duty"
2708 ? #6;"* 1:8"
2709 ? #6;"* 1:4"
2710 ? #6;"* 1:2"
2711 ? #6;"* 3:4"
2712 ? #6;""
2713 RETURN
2800 REM slide # 27
2801 GRAPHICS 2
2802 ? #6;""
2803 ? #6;"╡а╟Ё═триангле═важе"
2804 ? #6;""
2805 ? #6;"* 27.3 hz - 55.9 khz"
2806 ? #6;"* 4 bit amplitude"
2807 ? #6;"* automatic control"
2808 ? #6;""
2809 RETURN
2900 REM slide # 28
2901 GRAPHICS 2
2902 ? #6;""
2903 ? #6;"╡а╟Ё═ноисе═генератор"
2904 ? #6;"* 15 bit lfsr"
2905 ? #6;"* 29.3 hz - 447 khz"
2906 ? #6;"* two modes"
2907 ? #6;"* long"
2908 ? #6;"*   32767 bit cycle"
2909 ? #6;"* short"
2910 ? #6;"*   93 bit cycle"
2911 RETURN
3000 REM slide # 29
3001 GRAPHICS 2
3002 ? #6;""
3003 ? #6;"╡а╟Ё═д╞а═цонжертер"
3004 ? #6;"* dmc"
3005 ? #6;"- delta modulation"
3006 ? #6;"* 7 bit"
3007 ? #6;"* 4.2 khz - 33.5 khz"
3008 ? #6;"* semi automatic dma"
3009 ? #6;"* non-linear d/a"
3010 ? #6;""
3011 RETURN
3100 REM slide # 30
3101 GRAPHICS 2
3102 ? #6;""
3103 ? #6;"цонтроллерс"
3104 ? #6;""
3105 ? #6;"* two controllers"
3106 ? #6;"* d-pad"
3107 ? #6;"* four buttons"
3108 ? #6;"- A"
3109 ? #6;"- B"
3110 ? #6;"- START"
3111 ? #6;"- SELECT"
3112 ? #6;""
3113 RETURN
3200 REM slide # 31
3201 GRAPHICS 2
3202 ? #6;""
3203 ? #6;"цонтроллерс"
3204 ? #6;"* theoretically"
3205 ? #6;"- 8 pins"
3206 ? #6;"- similar to"
3207 ? #6;"atari, c64, ..."
3208 ? #6;"* actually"
3209 ? #6;"- serial io"
3210 ? #6;"- latch"
3211 ? #6;"+ shift register"
3212 ? #6;""
3213 RETURN
3300 REM slide # 32
3301 GRAPHICS 2
3302 ? #6;""
3303 ? #6;"цонтроллерс"
3304 ? #6;""
3305 ? #6;"* latch values"
3306 ? #6;"* read from shift"
3307 ? #6;"register"
3308 ? #6;"- 8x lda"
3309 ? #6;"* LDA + AND + BEQ"
3310 ? #6;""
3311 RETURN
3400 REM slide # 33
3401 GRAPHICS 2
3402 ? #6;""
3403 ? #6;"еьамплес"
10000 REM 
10001 REM ---------------------
10002 REM INICIALIZACE
10003 REM ---------------------
10010 SLIDE=0
10020 MAINLOOP=10
10030 KEYCODE=10100
10031 LEFTKEY=134
10032 RIGHTKEY=135
10090 RETURN 
10100 REM 
10101 REM ---------------------
10102 REM PRECTENI KLAVESY
10103 REM ---------------------
10110 POKE 754,255
10120 IF PEEK(754)=255 THEN 10120
10130 RETURN 
20000 REM 
20001 REM ---------------------
20002 REM LOAD RUTINA
20003 REM ---------------------
20010 GRAPHICS 8
20020 ADDR=PEEK(88)+256*PEEK(89)
20030 OPEN #1,4,0,"H:IMAGE.PBM"
20040 FOR I=0 TO 6400-1
20050 GET #1,A
20060 POKE ADDR,A
20070 ADDR=ADDR+1
20080 NEXT I
20090 CLOSE #1
20100 RETURN 
