--

## nes

* Nintendo
* Entertainment
* System

---

## game console

* 62 millions sold
* about 50 clones
* various plugins
    - midi
    - floppy disk
    - modem

---

## Overview

* cpu
* memory
* graphics
* sound
* controllers
* copy protection

---

## RICOH 2A03/2A07

* ricoh 2a03 cpu

* 2a03 - ntsc
* 2a07 - pal

* 1,66 MHz PAL
* 1,79 MHz NTSC

--

## RICOH 2A03/2A07

* based on mos 6502

* 2a03 vs mos 6502
    - - bcd mode
    - + timer
    - + dma
    - + sound system

--

## MEMORY

* two memory chips
    - program+data
    - graphics data
* no built-in ROM
* EPROM on cartridge

--

## GRAPHICS

* generated by PPU
* RP2C02/RP2C07
* a bit complicated
  - multiple tables

--

## GRAPHICS

* 256B sprite RAM
* 2KB background RAM
* and ROM on cartridge

--

## SOUND

* generated by cpu
* 2A03/2A07

--

## 2A03 SOUND SYSTEM

* 5 channels
* 2 square waves
* 1 triangle wave
* 1 noise generator
* 1 d/a converter

* 22 control registers

-- 

## 2A03 SQUARE WAVES

* 54.6 hz - 12,4 khz
* 4 bit amplitude
* variable duty
* 1:8
* 1:4
* 1:2
* 3:4

--

## 2A03 TRIANGLE WAVE

* 27.3 hz - 55.9 khz
* 4 bit amplitude
* (automatic control)

--

## 2A03 NOISE GENERATOR

* 15 bit lfsr
* 29.3 hz - 447 khz
* two modes
* long
*   32767 bit cycle
* short
*   93 bit cycle
--

## 2A03 D/A CONVERTER

* dmc
  - delta modulation
* 7 bit
* 4.2 khz - 33.5 khz
* semi automatic dma
* non-linear d/a

--
