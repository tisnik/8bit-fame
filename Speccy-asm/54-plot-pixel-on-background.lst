SCREEN_ADR	EQU 4000
CHAR_ADR	EQU 3C00
ENTRY_POINT	EQU 8000
		ORG 8000
8000:		label start
8000:CD5680	CALL 8056
8003:0600	LD B, 00
8005:0E00	LD C, 00
8007:		label loop
8007:CD2280	CALL 8022
800A:CD1680	CALL 8016
800D:04		INC B
800E:0C		INC C
800F:78		LD A, B
8010:FEC0	CP C0
8012:20F3	JR NZ, 8007
8014:		label finito
8014:18FE	JR 8014
8016:		label delay
8016:C5		PUSH BC
8017:0614	LD B, 14
8019:		label outer_loop
8019:0E00	LD C, 00
801B:		label inner_loop
801B:0D		DEC C
801C:20FD	JR NZ, 801B
801E:10F9	DJNZ 8019
8020:C1		POP BC
8021:C9		RET
8022:		label plot
8022:CD3980	CALL 8039
8025:CD2A80	CALL 802A
8028:77		LD (HL), A
8029:C9		RET
802A:		label calc_pixel_value
802A:C5		PUSH BC
802B:78		LD A, B
802C:E607	AND 07
802E:47		LD B, A
802F:3E80	LD A, 80
8031:2804	JR Z, 8037
8033:		label next_shift
8033:CB3F	SRL A
8035:10FC	DJNZ 8033
8037:		label end_calc
8037:C1		POP BC
8038:C9		RET
8039:		label calc_pixel_address
8039:79		LD A, C
803A:E607	AND 07
803C:F640	OR 40
803E:67		LD H, A
803F:79		LD A, C
8040:1F		RRA
8041:1F		RRA
8042:1F		RRA
8043:E618	AND 18
8045:B4		OR H
8046:67		LD H, A
8047:79		LD A, C
8048:17		RLA
8049:17		RLA
804A:E6E0	AND E0
804C:6F		LD L, A
804D:78		LD A, B
804E:1F		RRA
804F:1F		RRA
8050:1F		RRA
8051:E61F	AND 1F
8053:B5		OR L
8054:6F		LD L, A
8055:C9		RET
8056:		label fill_in_screen
8056:110040	LD DE, 4000
8059:CD6680	CALL 8066
805C:CD6680	CALL 8066
805F:CD6680	CALL 8066
8062:CD6680	CALL 8066
8065:C9		RET
8066:		label draw_ascii_table
8066:3E20	LD A, 20
8068:		label next_char
8068:F5		PUSH AF
8069:CD7880	CALL 8078
806C:3E20	LD A, 20
806E:CD7880	CALL 8078
8071:F1		POP AF
8072:3C		INC A
8073:FE80	CP 80
8075:20F1	JR NZ, 8068
8077:C9		RET
8078:		label draw_char
8078:01003C	LD BC, 3C00
807B:61		LD H, C
807C:6F		LD L, A
807D:29		ADD HL, HL
807E:29		ADD HL, HL
807F:29		ADD HL, HL
8080:09		ADD HL, BC
8081:0608	LD B, 08
8083:4A		LD C, D
8084:		label loop2
8084:7E		LD A, (HL)
8085:12		LD (DE), A
8086:2C		INC L
8087:14		INC D
8088:10FA	DJNZ 8084
808A:1C		INC E
808B:C8		RET Z
808C:51		LD D, C
808D:C9		RET
808E:		END 8000
Emiting TAP basic loader
Emiting TAP from 8000 to 808D
