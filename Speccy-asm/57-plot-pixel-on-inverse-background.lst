SCREEN_ADR	EQU 4000
CHAR_ADR	EQU 3C00
ENTRY_POINT	EQU 8000
		ORG 8000
8000:		label start
8000:CD5880	CALL 8058
8003:0600	LD B, 00
8005:0E00	LD C, 00
8007:		label loop
8007:CD2280	CALL 8022
800A:CD1680	CALL 8016
800D:04		INC B
800E:0C		INC C
800F:78		LD A, B
8010:FEC0	CP C0
8012:20F3	JR NZ, 8007
8014:		label finito
8014:18FE	JR 8014
8016:		label delay
8016:C5		PUSH BC
8017:0614	LD B, 14
8019:		label outer_loop
8019:0E00	LD C, 00
801B:		label inner_loop
801B:0D		DEC C
801C:20FD	JR NZ, 801B
801E:10F9	DJNZ 8019
8020:C1		POP BC
8021:C9		RET
8022:		label plot
8022:CD3B80	CALL 803B
8025:CD2C80	CALL 802C
8028:56		LD D, (HL)
8029:B2		OR D
802A:77		LD (HL), A
802B:C9		RET
802C:		label calc_pixel_value
802C:C5		PUSH BC
802D:78		LD A, B
802E:E607	AND 07
8030:47		LD B, A
8031:3E80	LD A, 80
8033:2804	JR Z, 8039
8035:		label next_shift
8035:CB3F	SRL A
8037:10FC	DJNZ 8035
8039:		label end_calc
8039:C1		POP BC
803A:C9		RET
803B:		label calc_pixel_address
803B:79		LD A, C
803C:E607	AND 07
803E:F640	OR 40
8040:67		LD H, A
8041:79		LD A, C
8042:1F		RRA
8043:1F		RRA
8044:1F		RRA
8045:E618	AND 18
8047:B4		OR H
8048:67		LD H, A
8049:79		LD A, C
804A:17		RLA
804B:17		RLA
804C:E6E0	AND E0
804E:6F		LD L, A
804F:78		LD A, B
8050:1F		RRA
8051:1F		RRA
8052:1F		RRA
8053:E61F	AND 1F
8055:B5		OR L
8056:6F		LD L, A
8057:C9		RET
8058:		label fill_in_screen
8058:110040	LD DE, 4000
805B:CD6880	CALL 8068
805E:CD6880	CALL 8068
8061:CD6880	CALL 8068
8064:CD6880	CALL 8068
8067:C9		RET
8068:		label draw_ascii_table_inv
8068:3E20	LD A, 20
806A:		label next_char
806A:F5		PUSH AF
806B:CD7A80	CALL 807A
806E:3E20	LD A, 20
8070:CD7A80	CALL 807A
8073:F1		POP AF
8074:3C		INC A
8075:FE80	CP 80
8077:20F1	JR NZ, 806A
8079:C9		RET
807A:		label draw_char_inv
807A:01003C	LD BC, 3C00
807D:61		LD H, C
807E:6F		LD L, A
807F:29		ADD HL, HL
8080:29		ADD HL, HL
8081:29		ADD HL, HL
8082:09		ADD HL, BC
8083:0608	LD B, 08
8085:4A		LD C, D
8086:		label loop2
8086:7E		LD A, (HL)
8087:2F		CPL
8088:12		LD (DE), A
8089:2C		INC L
808A:14		INC D
808B:10F9	DJNZ 8086
808D:1C		INC E
808E:C8		RET Z
808F:51		LD D, C
8090:C9		RET
8091:		END 8000
Emiting TAP basic loader
Emiting TAP from 8000 to 8090
