SCREEN_ADR	EQU 4000
ENTRY_POINT	EQU 8000
		ORG 8000
8000:		label start
8000:0600	LD B, 00
8002:0E03	LD C, 03
8004:CD4880	CALL 8048
8007:CD5780	CALL 8057
800A:0604	LD B, 04
800C:0E04	LD C, 04
800E:CD4880	CALL 8048
8011:CD5780	CALL 8057
8014:0608	LD B, 08
8016:0E05	LD C, 05
8018:CD4880	CALL 8048
801B:CD5780	CALL 8057
801E:060C	LD B, 0C
8020:0E06	LD C, 06
8022:CD4880	CALL 8048
8025:CD5780	CALL 8057
8028:0610	LD B, 10
802A:0E07	LD C, 07
802C:CD4880	CALL 8048
802F:CD5780	CALL 8057
8032:0614	LD B, 14
8034:0E08	LD C, 08
8036:CD4880	CALL 8048
8039:CD5780	CALL 8057
803C:0618	LD B, 18
803E:0E09	LD C, 09
8040:CD4880	CALL 8048
8043:CD5780	CALL 8057
8046:		label finish
8046:18FE	JR 8046
8048:		label calc_sprite_address
8048:79		LD A, C
8049:E607	AND 07
804B:0F		RRCA
804C:0F		RRCA
804D:0F		RRCA
804E:B0		OR B
804F:5F		LD E, A
8050:79		LD A, C
8051:E618	AND 18
8053:F640	OR 40
8055:57		LD D, A
8056:C9		RET
Defining MACRO add_e
Params: n
8057:		label draw_sprite
8057:218280	LD HL, 8082
805A:D5		PUSH DE
805B:CD7280	CALL 8072
805E:D1		POP DE
Expanding MACRO add_e
n= 0020 
LD A , E 
805F:7B		LD A, E
ADD A , n 
8060:C620	ADD A, 20
LD E , A 
8062:5F		LD E, A
ENDM 
		ENDM
End of MACRO add_e
8063:D5		PUSH DE
8064:CD7280	CALL 8072
8067:D1		POP DE
Expanding MACRO add_e
n= 0020 
LD A , E 
8068:7B		LD A, E
ADD A , n 
8069:C620	ADD A, 20
LD E , A 
806B:5F		LD E, A
ENDM 
		ENDM
End of MACRO add_e
806C:CD7280	CALL 8072
806F:C9		RET
8070:0608	LD B, 08
8072:		label draw_8_lines
8072:011008	LD BC, 0810
8075:		label loop
8075:EDA0	LDI
8077:EDA0	LDI
8079:7E		LD A, (HL)
807A:12		LD (DE), A
807B:23		INC HL
807C:1D		DEC E
807D:1D		DEC E
807E:14		INC D
807F:10F4	DJNZ 8075
8081:C9		RET
8082:		label SPRITE_ADR
8082:000000	DEFB of 3 bytes
8085:000000	DEFB of 3 bytes
8088:01F010	DEFB of 3 bytes
808B:033810	DEFB of 3 bytes
808E:05D710	DEFB of 3 bytes
8091:05CC10	DEFB of 3 bytes
8094:053010	DEFB of 3 bytes
8097:04C810	DEFB of 3 bytes
809A:073610	DEFB of 3 bytes
809D:0CFE38	DEFB of 3 bytes
80A0:1FF800	DEFB of 3 bytes
80A3:000030	DEFB of 3 bytes
80A6:03FFB0	DEFB of 3 bytes
80A9:05FEE0	DEFB of 3 bytes
80AC:0EFDC0	DEFB of 3 bytes
80AF:18FC00	DEFB of 3 bytes
80B2:180000	DEFB of 3 bytes
80B5:01F800	DEFB of 3 bytes
80B8:03FC00	DEFB of 3 bytes
80BB:01B000	DEFB of 3 bytes
80BE:020C00	DEFB of 3 bytes
80C1:070E00	DEFB of 3 bytes
80C4:1E0780	DEFB of 3 bytes
80C7:000000	DEFB of 3 bytes
80CA:		END 8000
Emiting TAP basic loader
Emiting TAP from 8000 to 80C9
